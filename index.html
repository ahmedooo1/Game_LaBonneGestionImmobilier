<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu de Gestion Immobilière</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <!-- Écran de bienvenue -->
        <div id="welcome-screen" class="screen active-screen">
            <div class="title-container">
                <h1>Jeu de Gestion<br>Immobilière</h1>
                <div class="retro-button-container">
                    <button id="start-button" class="retro-button">Commencer</button>
                </div>
            </div>
        </div>

        <!-- Écran de configuration des équipes -->
        <div id="team-setup-screen" class="screen">
            <h2>Configuration des Équipes</h2>
            <div class="teams-container">
                <div class="team-card" data-team-id="1">
                    <h3>Équipe 1</h3>
                    <div class="color-indicator team1-color"></div>
                    <div class="player-inputs">
                        <input type="text" placeholder="Nom du joueur 1" class="player-input" value="Joueur 1 ">
                        <input type="text" placeholder="Nom du joueur 2" class="player-input" >
                        <input type="text" placeholder="Nom du joueur 3" class="player-input">
                    </div>
                    <div class="team-toggle">
                        <label class="toggle">
                            <input type="checkbox" checked>
                            <span class="slider round"></span>
                        </label>
                        <span>Actif</span>
                    </div>
                </div>
                <div class="team-card" data-team-id="2">
                    <h3>Équipe 2</h3>
                    <div class="color-indicator team2-color"></div>
                    <div class="player-inputs">
                        <input type="text" placeholder="Nom du joueur 1" class="player-input" value="Joueur 2 ">
                        <input type="text" placeholder="Nom du joueur 2" class="player-input">
                        <input type="text" placeholder="Nom du joueur 3" class="player-input">
                    </div>
                    <div class="team-toggle">
                        <label class="toggle">
                            <input type="checkbox" checked>
                            <span class="slider round"></span>
                        </label>
                        <span>Actif</span>
                    </div>
                </div>
                <div class="team-card" data-team-id="3">
                    <h3>Équipe 3</h3>
                    <div class="color-indicator team3-color"></div>
                    <div class="player-inputs">
                        <input type="text" placeholder="Nom du joueur 1" class="player-input">
                        <input type="text" placeholder="Nom du joueur 2" class="player-input">
                        <input type="text" placeholder="Nom du joueur 3" class="player-input">
                    </div>
                    <div class="team-toggle">
                        <label class="toggle">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                        <span>Actif</span>
                    </div>
                </div>
                <div class="team-card" data-team-id="4">
                    <h3>Équipe 4</h3>
                    <div class="color-indicator team4-color"></div>
                    <div class="player-inputs">
                        <input type="text" placeholder="Nom du joueur 1" class="player-input">
                        <input type="text" placeholder="Nom du joueur 2" class="player-input">
                        <input type="text" placeholder="Nom du joueur 3" class="player-input">
                    </div>
                    <div class="team-toggle">
                        <label class="toggle">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                        <span>Actif</span>
                    </div>
                </div>
            </div>
            <div class="buttons-container">
                <button id="continue-button" class="retro-button">Continuer</button>
            </div>
        </div>

        <!-- Écran de lancement de dé -->
        <div id="dice-screen" class="screen">
            <h2>Lancer le dé</h2>
            <div class="active-team-display">
                <span id="current-team-name">Équipe 1</span>
                <div id="current-team-indicator" class="team1-color"></div>
            </div>
            <div class="dice-container">
                <div id="dice" class="dice" data-value="1">
                    <div class="dice-face" id="dice-face">
                        <div class="dot center"></div>
                    </div>
                </div>
                <button id="roll-dice-button" class="retro-button">Lancer</button>
            </div>
        </div>

        <!-- Écran du plateau de jeu -->
        <div id="board-screen" class="screen">
            <div class="active-team-header">
                <div class="turn-info">
                    Tour: <span id="turn-counter" class="font-pixel">1</span> | Équipe active: <span id="active-team-name">Équipe 1</span>
                </div>
                <div class="timer-display">
                    <i class="timer-icon">⏱️</i>
                    <span id="game-timer" class="timer">05:00</span>
                </div>
                <button id="exit-button" class="exit-button">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </button>
            </div>
            
            <div class="score-blocks">
                <div class="team-score-block team1" id="team1-score-block">
                    <div>Équipe 1</div>
                    <div class="score">200 K</div>
                </div>
                <div class="team-score-block team2" id="team2-score-block">
                    <div>Équipe 2</div>
                    <div class="score">-200 K</div>
                </div>
            </div>
            
            <div class="game-board-container">
                <div class="team-panel left-panel">
                    <div id="team2-panel" class="team-panel-content"></div>
                    <div id="team4-panel" class="team-panel-content"></div>
                </div>
                
                <div class="game-board">
                    <!-- Le plateau de jeu sera généré dynamiquement en JS -->
                </div>
                
                <div class="team-panel right-panel">
                    <div id="team1-panel" class="team-panel-content"></div>
                    <div id="team3-panel" class="team-panel-content"></div>
                </div>
            </div>
            
            <div id="current-player-info" class="player-list-bottom">
                <div class="player-list-content"></div>
            </div>
            
            <div class="action-buttons">
                <button id="roll-button" class="retro-button">Lancer Dé</button>
                <button id="next-turn-button" class="retro-button">Tour Suivant</button>
            </div>
        </div>

        <!-- Overlay du dé en plein écran -->
        <div id="dice-fullscreen-overlay" class="dice-fullscreen-overlay">
            <div class="dice-fullscreen-container">
                <div id="fullscreen-dice" class="dice dice-fullscreen" data-value="1">
                    <div class="dice-face">
                        <!-- Les points du dé seront générés dynamiquement en JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modales -->
        <div id="property-modal" class="modal">
            <div class="modal-content">
                <div class="property-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </div>
                <h3 id="property-name">Maison du directeur</h3>
                <p id="property-description">Petite maison de maître</p>
                <div class="property-value">
                    <p>Valeur Vénale :</p>
                    <p id="property-value-amount">350 K</p>
                </div>
                <button id="property-continue" class="retro-button">Continuer</button>
            </div>
        </div>

        <div id="video-modal" class="modal">
            <div class="modal-content">
                <div class="video-container">
                    <svg viewBox="0 0 24 24" width="80" height="80" class="video-play-icon">
                        <path d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="currentColor"></path>
                        <path d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                    <div class="video-progress">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                    <div id="video-duration" class="video-duration">00:15</div>
                </div>
                <button id="skip-video" class="retro-button">Sauter</button>
            </div>
        </div>

        <div id="win-modal" class="modal">
            <div class="modal-content">
                <div class="win-badge">
                    <div class="win-text">WIN!</div>
                    <!-- <div class="dot top-left"></div>
                    <div class="dot top-right"></div>
                    <div class="dot bottom-left"></div>
                    <div class="dot bottom-right"></div> -->
                </div>
                <h3>Félicitation !</h3>
                <p>Vous avez accumulé</p>
                <p id="final-score" class="final-score">1500 K</p>
                <button id="replay-button" class="retro-button">Rejouer</button>
            </div>
        </div>

        <div id="exit-modal" class="modal">
            <div class="modal-content">
                <p>Vous allez quitter le jeu !</p>
                <div class="exit-buttons">
                    <button id="confirm-exit" class="confirm-button">Confirmer</button>
                    <button id="cancel-exit" class="cancel-button">Annuler</button>
                </div>
            </div>
        </div>

        <!-- Modal Bonus -->
        <div id="bonus-modal" class="modal">
            <div class="modal-content card-popup">
                <div class="card-icon bonus-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </div>
                <h3>Carte Bonus</h3>
                <div class="bonus-amount">
                    <p id="bonus-text">Vous avez gagné</p>
                    <p id="bonus-amount" class="special-amount">+200 K</p>
                </div>
                <button id="bonus-continue" class="retro-button">Continuer</button>
            </div>
        </div>

        <!-- Modal Facture -->
        <div id="facture-modal" class="modal">
            <div class="modal-content card-popup">
                <div class="card-icon facture-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" viewBox="0 0 448 448" xml:space="preserve">
                        <rect x="99" y="275" style="fill:#7AC943;" width="154" height="26"/>
                        <path style="fill:#FFF8EF;" d="M43,51v363.9l52.3-55.2l0.1-0.1c0.3-0.1,0.8-0.2,1.4-0.2c0.4,0,1.4,0.3,2,0.9l53.9,59l54.4-33.7  l0.4-0.4c0,0,0.1-0.1,0.4-0.1c0.6,0,1.4,0.3,2,0.6l45.5,33.2l38-50c0.6-0.6,1.5-1.5,1.8-1.5h0.8c0.9,0,1.3,0.1,2.1,0.9l62.2,59.7  l44.7-50.1V51H43z M93,101h158v6H93V101z M93,157h158v6H93V157z M93,213h158v6H93V213z M259,304c0,1.2-1.8,3-3,3H96c-2,0-3-1.8-3-3  v-32c0-1.2,1-3,3-3h160c1.2,0,3,1.8,3,3V304z M363,267h-40v18h37c1.2,0,3,1.8,3,3v24c0,1.2-1.8,3-3,3h-13v8h-6v-8h-24v-6h40v-18h-37  c-1.2,0-3-1.8-3-3v-24c0-1.2,1.8-3,3-3h21v-8h6v8h16V267z M371,219h-70v-6h70V219z M371,163h-70v-6h70V163z M371,107h-70v-6h70V107z  "/>
                        <path style="fill:#996632;" d="M11,19v58h26V48c0-2,1-3,3-3h368c1.2,0,3,1,3,3v29h26V19H11z"/>
                        <g>
                            <path style="fill:#E0CBB5;" d="M296,354.4L256,408l-31.2-37.6c-4.8-5.6-13.6-6.4-19.2-1.6l-42.4,37.6l40.8-25.6   c2.4-1.6,6.4-1.6,8.8,0l41.6,30.4l35.2-46.4c1.6-1.6,3.2-3.2,5.6-3.2h0.8c2.4,0,4,0.8,5.6,2.4l52,49.6l-41.6-60   C308,349.6,300,348.8,296,354.4z"/>
                            <path style="fill:#E0CBB5;" d="M90.4,356c1.6-1.6,4-2.4,5.6-2.4c1.6,0,4,0.8,5.6,2.4l34.4,37.6l-31.2-44.8   c-4.8-7.2-15.2-8.8-22.4-3.2L64,360L48,56v346.4L90.4,356z"/>
                        </g>
                        <path style="fill:#42210B;" d="M296,208h80v16h-80V208z M296,152h80v16h-80V152z M296,96h80v16h-80V96z M368,288v24c0,4-4,8-8,8h-8  v8h-16v-8h-24v-16h40v-8h-32c-4,0-8-4-8-8v-24c0-4,4-8,8-8h16v-8h16v8h16v16h-40v8h32C364,280,368,284,368,288z M88,208h168v16H88  V208z M88,152h168v16H88V152z M88,96h168v16H88V96z M96,264h160c4,0,8,4,8,8v32c0,4-4,8-8,8H96c-4.8,0-8-4-8-8v-32  C88,268,91.2,264,96,264z M248,296v-16H104v16H248z M40,40h368c4,0,8,3.2,8,8v24h16V24H16v48h16V48C32,43.2,35.2,40,40,40z   M254.4,411.2l35.2-46.4c1.6-1.6,3.2-3.2,5.6-3.2h0.8c2.4,0,4,0.8,5.6,2.4l58.4,56l40-44.8V56H48v346.4l42.4-45.6  c1.6-1.6,4-2.4,5.6-2.4c2.4,0,4,0.8,5.6,2.4l51.2,56l50.4-31.2c3.2-1.6,6.4-1.6,8.8,0L254.4,411.2z M0,80V16c0-4.8,3.2-8,8-8h432  c4,0,8,3.2,8,8v64c0,4-4,8-8,8h-24v291.2c0,2.4-0.8,4-2.4,5.6l-48,52.8c-0.8,1.6-3.2,2.4-5.6,2.4l0,0c-2.4,0-4-0.8-5.6-2.4  l-57.6-55.2l-34.4,44.8c-2.4,3.2-7.2,4-11.2,1.6l-44-32l-51.2,32c-3.2,2.4-7.2,1.6-10.4-1.6L96,373.6L45.6,428  c-2.4,2.4-5.6,3.2-8.8,2.4c-2.4-1.6-4.8-4.8-4.8-8V88H8C3.2,88,0,84,0,80z"/>
                        </svg>
                </div>
                <h3>Facture</h3>
                <div class="facture-details">
                    <p id="facture-text">Vous devez payer</p>
                    <p id="facture-amount" class="special-amount danger-amount">-300 K</p>
                </div>
                <button id="facture-continue" class="retro-button">Payer</button>
            </div>
        </div>

        <!-- Modal Biens -->
        <div id="biens-modal" class="modal">
            <div class="modal-content card-popup">
                <div class="card-icon biens-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </div>
                <h3>Gestion de Biens</h3>
                <p id="biens-text">Vous recevez un loyer de tous vos biens</p>
                <p id="biens-amount" class="special-amount">+150 K</p>
                <button id="biens-continue" class="retro-button">Encaisser</button>
            </div>
        </div>

        <!-- Modal PDB -->
        <div id="pdb-modal" class="modal">
            <div class="modal-content card-popup">
                <div class="card-icon pdb-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </div>
                <h3>Pas de Bol !</h3>
                <p id="pdb-text">Vous payez pour la protection de vos propriétés</p>
                <p id="pdb-amount" class="special-amount danger-amount">-100 K</p>
                <button id="pdb-continue" class="retro-button">Payer</button>
            </div>
        </div>

        <!-- Modal Interaction -->
        <div id="interaction-modal" class="modal">
            <div class="modal-content card-popup">
                <div class="card-icon interaction-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"></path>
                    </svg>
                </div>
                <h3>Interaction</h3>
                <p id="interaction-text">Choisissez une équipe pour échanger 100K</p>
                <div id="interaction-teams" class="team-selection">
                    <!-- Les équipes seront ajoutées dynamiquement -->
                </div>
                <button id="interaction-skip" class="retro-button small-button">Passer</button>
            </div>
        </div>
    </div>

    <script src="js/gameData.js"></script>
    <script src="js/gameUtils.js"></script>
    <script src="js/gameState.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>